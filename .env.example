# ============================================
# Ververica Visual Demo - Environment Variables
# ============================================
# Copy this file to .env and customize for your environment

# ============================================
# Kafka / Redpanda Configuration
# ============================================
KAFKA_BOOTSTRAP_SERVERS=localhost:19092
KAFKA_GROUP_ID=ververica-demo

# ============================================
# PostgreSQL CDC Configuration
# ============================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=ecommerce
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# PostgreSQL CDC Options
POSTGRES_SCHEMA=public
POSTGRES_SLOT_NAME=flink_cdc_slot
POSTGRES_PUBLICATION=paimon_cdc

# ============================================
# Paimon Configuration
# ============================================
# Warehouse location for Paimon tables
PAIMON_WAREHOUSE=/tmp/paimon

# Paimon catalog type (filesystem, hive, jdbc)
PAIMON_CATALOG_TYPE=filesystem

# Paimon database name for CDC tables
PAIMON_DATABASE=lakehouse

# ============================================
# Flink Configuration
# ============================================
FLINK_PARALLELISM=2
FLINK_CHECKPOINT_INTERVAL_MS=30000
FLINK_STATE_BACKEND=rocksdb

# Flink Home (update to your Flink installation path)
FLINK_HOME=/path/to/flink

# ============================================
# Flink CDC Specific
# ============================================
# Snapshot mode: initial, never, always
CDC_SNAPSHOT_MODE=initial

# Decoding plugin: pgoutput (recommended), wal2json
CDC_DECODING_PLUGIN=pgoutput

# Drop replication slot on stop (true for testing only!)
CDC_DROP_SLOT_ON_STOP=false

# ============================================
# Historical Training Data
# ============================================
# Number of patterns to generate for training
NUM_PATTERNS=5000

# Historical data time range (days)
DAYS_HISTORY=90

# ============================================
# Quarkus API Configuration
# ============================================
QUARKUS_HTTP_HOST=0.0.0.0
QUARKUS_HTTP_PORT=8080

# ============================================
# Development / Production Mode
# ============================================
# Set to 'dev' or 'prod'
ENVIRONMENT=dev

# Enable debug logging
DEBUG_LOGGING=false

# ============================================
# Docker Compose Overrides
# ============================================
# Set to '1' to enable Docker BuildKit
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# ============================================
# Usage Examples
# ============================================
#
# 1. Copy this file:
#    cp .env.example .env
#
# 2. Update values for your environment
#
# 3. Source in scripts:
#    set -a
#    source .env
#    set +a
#
# 4. Use in docker-compose:
#    docker compose --env-file .env up
#
# 5. Reference in Flink jobs:
#    export PAIMON_WAREHOUSE=$PAIMON_WAREHOUSE
#    ./gradlew :flink-recommendations:run
